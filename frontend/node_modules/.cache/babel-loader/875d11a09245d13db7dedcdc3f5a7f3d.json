{"ast":null,"code":"import { setCallStateInitiate } from \"../../Redux/Action/ActionCall\";\nimport * as wss from \"../Connect-Soket/wssConnection\";\nimport { preOfferAnswers, defaultConstrains, configuration, callStates } from \"../ShareData\";\nimport store from \"../../Redux/Store\";\nlet myPeer;\nlet myPeerId;\nlet groupCallRoomId;\nlet groupCallHost = false;\nexport const connectWithMyPeer = () => {\n  myPeer = new window.Peer(undefined, {\n    path: \"/peerjs\",\n    host: \"/\",\n    port: \"5001\"\n  });\n  myPeer.on(\"open\", id => {\n    console.log(\"succesfully connected with peer server\");\n    myPeerId = id;\n  });\n  myPeer.on(\"call\", call => {\n    call.answer(store.getState().call.localStream);\n    call.on(\"stream\", incomingStream => {\n      const streams = store.getState().call.groupCallStreams;\n      const stream = streams.find(stream => stream.id === incomingStream.id); //   if (!stream) {\n      //     addVideoStream(incomingStream);\n      //   }\n    });\n  });\n};\nexport const joinGroupCall = (hostSocketId, roomId) => {\n  const localStream = store.getState().call.localStream;\n  store.dispatch(setCallStateInitiate({\n    call: callStates.CALL_IN_PROGRESS\n  }));\n};","map":{"version":3,"names":["setCallStateInitiate","wss","preOfferAnswers","defaultConstrains","configuration","callStates","store","myPeer","myPeerId","groupCallRoomId","groupCallHost","connectWithMyPeer","window","Peer","undefined","path","host","port","on","id","console","log","call","answer","getState","localStream","incomingStream","streams","groupCallStreams","stream","find","joinGroupCall","hostSocketId","roomId","dispatch","CALL_IN_PROGRESS"],"sources":["D:/Full-Stack-Developer/Call-Video-FullStack/frontend/src/Utils/WebRTCHandler/webRTCGroupCallHandler.js"],"sourcesContent":["import { setCallStateInitiate } from \"../../Redux/Action/ActionCall\";\r\nimport * as wss from \"../Connect-Soket/wssConnection\";\r\nimport {\r\n  preOfferAnswers,\r\n  defaultConstrains,\r\n  configuration,\r\n  callStates,\r\n} from \"../ShareData\";\r\nimport store from \"../../Redux/Store\";\r\n\r\nlet myPeer;\r\nlet myPeerId;\r\nlet groupCallRoomId;\r\nlet groupCallHost = false;\r\nexport const connectWithMyPeer = () => {\r\n  myPeer = new window.Peer(undefined, {\r\n    path: \"/peerjs\",\r\n    host: \"/\",\r\n    port: \"5001\",\r\n  });\r\n\r\n  myPeer.on(\"open\", (id) => {\r\n    console.log(\"succesfully connected with peer server\");\r\n    myPeerId = id;\r\n  });\r\n\r\n  myPeer.on(\"call\", (call) => {\r\n    call.answer(store.getState().call.localStream);\r\n    call.on(\"stream\", (incomingStream) => {\r\n      const streams = store.getState().call.groupCallStreams;\r\n      const stream = streams.find((stream) => stream.id === incomingStream.id);\r\n\r\n      //   if (!stream) {\r\n      //     addVideoStream(incomingStream);\r\n      //   }\r\n    });\r\n  });\r\n};\r\nexport const joinGroupCall = (hostSocketId, roomId) => {\r\n  const localStream = store.getState().call.localStream;\r\n  store.dispatch(setCallStateInitiate({ call: callStates.CALL_IN_PROGRESS }));\r\n};\r\n"],"mappings":"AAAA,SAASA,oBAAT,QAAqC,+BAArC;AACA,OAAO,KAAKC,GAAZ,MAAqB,gCAArB;AACA,SACEC,eADF,EAEEC,iBAFF,EAGEC,aAHF,EAIEC,UAJF,QAKO,cALP;AAMA,OAAOC,KAAP,MAAkB,mBAAlB;AAEA,IAAIC,MAAJ;AACA,IAAIC,QAAJ;AACA,IAAIC,eAAJ;AACA,IAAIC,aAAa,GAAG,KAApB;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAM;EACrCJ,MAAM,GAAG,IAAIK,MAAM,CAACC,IAAX,CAAgBC,SAAhB,EAA2B;IAClCC,IAAI,EAAE,SAD4B;IAElCC,IAAI,EAAE,GAF4B;IAGlCC,IAAI,EAAE;EAH4B,CAA3B,CAAT;EAMAV,MAAM,CAACW,EAAP,CAAU,MAAV,EAAmBC,EAAD,IAAQ;IACxBC,OAAO,CAACC,GAAR,CAAY,wCAAZ;IACAb,QAAQ,GAAGW,EAAX;EACD,CAHD;EAKAZ,MAAM,CAACW,EAAP,CAAU,MAAV,EAAmBI,IAAD,IAAU;IAC1BA,IAAI,CAACC,MAAL,CAAYjB,KAAK,CAACkB,QAAN,GAAiBF,IAAjB,CAAsBG,WAAlC;IACAH,IAAI,CAACJ,EAAL,CAAQ,QAAR,EAAmBQ,cAAD,IAAoB;MACpC,MAAMC,OAAO,GAAGrB,KAAK,CAACkB,QAAN,GAAiBF,IAAjB,CAAsBM,gBAAtC;MACA,MAAMC,MAAM,GAAGF,OAAO,CAACG,IAAR,CAAcD,MAAD,IAAYA,MAAM,CAACV,EAAP,KAAcO,cAAc,CAACP,EAAtD,CAAf,CAFoC,CAIpC;MACA;MACA;IACD,CAPD;EAQD,CAVD;AAWD,CAvBM;AAwBP,OAAO,MAAMY,aAAa,GAAG,CAACC,YAAD,EAAeC,MAAf,KAA0B;EACrD,MAAMR,WAAW,GAAGnB,KAAK,CAACkB,QAAN,GAAiBF,IAAjB,CAAsBG,WAA1C;EACAnB,KAAK,CAAC4B,QAAN,CAAelC,oBAAoB,CAAC;IAAEsB,IAAI,EAAEjB,UAAU,CAAC8B;EAAnB,CAAD,CAAnC;AACD,CAHM"},"metadata":{},"sourceType":"module"}